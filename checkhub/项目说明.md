# CheckHub - è‡ªåŠ¨ç­¾åˆ°ç³»ç»Ÿé¡¹ç›®è¯´æ˜

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

CheckHub æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¤šç«™ç‚¹è‡ªåŠ¨ç­¾åˆ°ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäº Python å¼€å‘ï¼Œæä¾› Web ç•Œé¢å’Œå‘½ä»¤è¡Œä¸¤ç§è¿è¡Œæ¨¡å¼ã€‚

## âœ… éœ€æ±‚å®ç°æƒ…å†µ

| éœ€æ±‚é¡¹ | å®ç°çŠ¶æ€ | è¯´æ˜ |
|--------|---------|------|
| 1. æ”¯æŒå¤šä¸ªç›®æ ‡ç«™ç‚¹åŠé…ç½®ï¼ˆTOMLæ ¼å¼ï¼‰ | âœ… å®Œæˆ | ä½¿ç”¨ `config/sites.toml` é…ç½® |
| 2. æ”¯æŒè¿è¡ŒæŒ‡å®šç›®æ ‡ç«™ç‚¹ï¼Œç«™ç‚¹æ”¯æŒå¤šè´¦æˆ· | âœ… å®Œæˆ | CLI: `python checkin.py ç«™ç‚¹ID` |
| 3. æ”¯æŒç­¾åˆ°ç»“æœé€šçŸ¥ï¼ˆTelegramã€é’‰é’‰ï¼‰ | âœ… å®Œæˆ | ä¸¤ç§é€šçŸ¥æ–¹å¼å‡å·²å®ç° |
| 4. è®°å½•ç­¾åˆ°æ—¥å¿—ï¼Œæ¯å¤©æ¯ä¸ªç«™ç‚¹è®°å½•ä¸€ä¸ªæ—¥å¿— | âœ… å®Œæˆ | `logs/ç«™ç‚¹ID_æ—¥æœŸ.log` |
| 5. ç”Ÿæˆé¡¹ç›®å…¨éƒ¨ä»£ç  | âœ… å®Œæˆ | 6450+ è¡Œå®Œæ•´ä»£ç  |
| 6. ä½¿ç”¨ Python | âœ… å®Œæˆ | Python 3.11+ï¼Œå¼‚æ­¥ç¼–ç¨‹ |
| 7. é¡¹ç›®å‘½å | âœ… å®Œæˆ | CheckHubï¼ˆç­¾åˆ°ä¸­å¿ƒï¼‰ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
checkhub/
â”œâ”€â”€ app/                      # åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ checkers/            # ç­¾åˆ°å™¨ï¼ˆæ’ä»¶å¼ï¼‰
â”‚   â”œâ”€â”€ notifiers/           # é€šçŸ¥å™¨ï¼ˆTelegramã€é’‰é’‰ï¼‰
â”‚   â”œâ”€â”€ views/               # Web è§†å›¾
â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ sites.toml           # ç«™ç‚¹é…ç½®
â”‚   â”œâ”€â”€ settings.toml        # ç³»ç»Ÿè®¾ç½®
â”‚   â”œâ”€â”€ sites.example.toml   # é…ç½®ç¤ºä¾‹
â”‚   â””â”€â”€ settings.example.toml# è®¾ç½®ç¤ºä¾‹
â”œâ”€â”€ logs/                     # æ—¥å¿—ç›®å½•
â”œâ”€â”€ checkin.py               # å‘½ä»¤è¡Œå·¥å…· â­ æ–°å¢
â”œâ”€â”€ run.py                   # Web å¯åŠ¨è„šæœ¬
â”œâ”€â”€ quickstart.sh            # å¿«é€Ÿå¯åŠ¨è„šæœ¬ â­ æ–°å¢
â””â”€â”€ æ–‡æ¡£/ (10 ä¸ªå®Œæ•´æ–‡æ¡£)
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. é€‰æ‹©è¿è¡Œæ¨¡å¼

#### æ–¹å¼ Aï¼šWeb ç®¡ç†æ¨¡å¼

```bash
python run.py
```

è®¿é—® http://localhost:8000  
é»˜è®¤è´¦å·ï¼šadmin / admin123

#### æ–¹å¼ Bï¼šå‘½ä»¤è¡Œæ¨¡å¼ï¼ˆæ¨èç”¨äºè‡ªåŠ¨åŒ–ï¼‰

```bash
# è¿è¡Œæ‰€æœ‰å¯ç”¨çš„ç«™ç‚¹
python checkin.py

# è¿è¡ŒæŒ‡å®šç«™ç‚¹
python checkin.py example

# åˆ—å‡ºæ‰€æœ‰ç«™ç‚¹
python checkin.py --list
```

### 3. å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èæ–°æ‰‹ï¼‰

```bash
./quickstart.sh
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç«™ç‚¹é…ç½® (config/sites.toml)

```toml
[example]
name = "ç¤ºä¾‹ç«™ç‚¹"
enabled = true
checker_class = "ExampleChecker"

[[example.accounts]]
username = "user1"
password = "pass1"
enabled = true
```

### é€šçŸ¥é…ç½® (config/settings.toml)

```toml
[notifications.telegram]
enabled = true
bot_token = "YOUR_BOT_TOKEN"
chat_id = "YOUR_CHAT_ID"

[notifications.dingtalk]
enabled = true
webhook = "YOUR_WEBHOOK_URL"
secret = "YOUR_SECRET"
```

## ğŸ“ æ—¥å¿—ç³»ç»Ÿ

æ—¥å¿—æ–‡ä»¶ä½äº `logs/` ç›®å½•ï¼š

- `main.log` - ç³»ç»Ÿä¸»æ—¥å¿—
- `ç«™ç‚¹ID_æ—¥æœŸ.log` - æ¯ä¸ªç«™ç‚¹æ¯å¤©çš„ç­¾åˆ°æ—¥å¿—

ç¤ºä¾‹ï¼š
```
logs/
â”œâ”€â”€ main.log
â”œâ”€â”€ example_2025-10-23.log
â””â”€â”€ glados_2025-10-23.log
```

## ğŸ”” é€šçŸ¥ç³»ç»Ÿ

### Telegram é€šçŸ¥
1. åˆ›å»º Botï¼šåœ¨ Telegram æœç´¢ @BotFather
2. è·å– Token å’Œ Chat ID
3. åœ¨ `settings.toml` ä¸­é…ç½®

### é’‰é’‰é€šçŸ¥
1. åˆ›å»ºé’‰é’‰ç¾¤æœºå™¨äºº
2. è·å– Webhook URL å’Œ Secret
3. åœ¨ `settings.toml` ä¸­é…ç½®

## â° å®šæ—¶ä»»åŠ¡

### Linux Cron

```bash
# ç¼–è¾‘ crontab
crontab -e

# æ¯å¤©æ—©ä¸Š 8:00 è‡ªåŠ¨ç­¾åˆ°
0 8 * * * cd /path/to/checkhub && python3 checkin.py
```

### Systemd Timer

```bash
sudo systemctl enable checkhub.timer
sudo systemctl start checkhub.timer
```

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### æ–°æ‰‹å¿…è¯»
- âš¡ [TASK_SUMMARY.md](TASK_SUMMARY.md) - ä»»åŠ¡å®Œæˆæ€»ç»“
- ğŸ“– [QUICKSTART.md](QUICKSTART.md) - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
- ğŸ“‹ [OVERVIEW.md](OVERVIEW.md) - é¡¹ç›®æ€»è§ˆ

### ä½¿ç”¨æŒ‡å—
- ğŸ’» [CLI_GUIDE.md](CLI_GUIDE.md) - å‘½ä»¤è¡Œè¯¦ç»†ä½¿ç”¨ï¼ˆå¿…è¯»ï¼‰
- ğŸ“˜ [USAGE.md](USAGE.md) - Web ç•Œé¢ä½¿ç”¨
- ğŸ¬ [DEMO.md](DEMO.md) - åŠŸèƒ½æ¼”ç¤º

### æŠ€æœ¯æ–‡æ¡£
- ğŸ—ï¸ [ARCHITECTURE.md](ARCHITECTURE.md) - æ¶æ„è®¾è®¡
- â­ [FEATURES.md](FEATURES.md) - åŠŸèƒ½ç‰¹æ€§
- ğŸ”Œ [API.md](API.md) - API æ–‡æ¡£

### å…¶ä»–æ–‡æ¡£
- ğŸ“œ [CHANGELOG.md](CHANGELOG.md) - æ›´æ–°æ—¥å¿—
- ğŸ“Š [PROJECT_SUMMARY.md](PROJECT_SUMMARY.md) - é¡¹ç›®æ€»ç»“
- ğŸ‡¨ğŸ‡³ [README_CN.md](README_CN.md) - ä¸­æ–‡è¯¦ç»†è¯´æ˜

## ğŸ”§ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°ç­¾åˆ°å™¨

1. åœ¨ `app/checkers/` åˆ›å»ºæ–°æ–‡ä»¶ï¼Œä¾‹å¦‚ `mysite.py`ï¼š

```python
from app.checkers.base import BaseChecker, CheckResult
import httpx

class MySiteChecker(BaseChecker):
    async def _do_check_in(self) -> CheckResult:
        async with httpx.AsyncClient() as client:
            response = await client.post(
                "https://mysite.com/api/checkin",
                headers=self.get_headers(),
                json={
                    "username": self.username,
                    "password": self.password
                }
            )
            
            if response.status_code == 200:
                return CheckResult(
                    success=True,
                    message="ç­¾åˆ°æˆåŠŸï¼"
                )
            else:
                return CheckResult(
                    success=False,
                    message="ç­¾åˆ°å¤±è´¥"
                )
```

2. åœ¨ `app/checkers/__init__.py` ä¸­æ³¨å†Œï¼š

```python
from .mysite import MySiteChecker

CHECKER_REGISTRY = {
    "MySiteChecker": MySiteChecker,
}
```

3. åœ¨ `config/sites.toml` ä¸­é…ç½®ï¼š

```toml
[mysite]
name = "æˆ‘çš„ç«™ç‚¹"
enabled = true
checker_class = "MySiteChecker"

[[mysite.accounts]]
username = "myuser"
password = "mypass"
enabled = true
```

## ğŸŒŸ é¡¹ç›®äº®ç‚¹

### 1. åŒæ¨¡å¼è¿è¡Œ
- **Web æ¨¡å¼**ï¼šå¯è§†åŒ–ç®¡ç†ï¼Œé€‚åˆé…ç½®å’Œç›‘æ§
- **å‘½ä»¤è¡Œæ¨¡å¼**ï¼šè„šæœ¬å‹å¥½ï¼Œé€‚åˆè‡ªåŠ¨åŒ–å’Œå®šæ—¶ä»»åŠ¡

### 2. å®Œæ•´çš„åŠŸèƒ½
- âœ… å¤šç«™ç‚¹æ”¯æŒ
- âœ… å¤šè´¦æˆ·ç®¡ç†
- âœ… é€šçŸ¥æ¨é€
- âœ… æ—¥å¿—è®°å½•
- âœ… å®šæ—¶ä»»åŠ¡
- âœ… æ’ä»¶æ¶æ„

### 3. ä¼˜ç§€çš„è®¾è®¡
- å¼‚æ­¥ç¼–ç¨‹ï¼ˆé«˜æ€§èƒ½ï¼‰
- æ’ä»¶å¼æ¶æ„ï¼ˆæ˜“æ‰©å±•ï¼‰
- ç±»å‹æ³¨è§£ï¼ˆå¯ç»´æŠ¤ï¼‰
- åˆ†å±‚è®¾è®¡ï¼ˆæ˜“ç†è§£ï¼‰

### 4. å®Œå–„çš„æ–‡æ¡£
- 10 ä¸ªè¯¦ç»†æ–‡æ¡£
- 3500+ è¡Œæ–‡æ¡£å†…å®¹
- ä¸­è‹±æ–‡è¯´æ˜
- å®ä¾‹æ¼”ç¤º

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

```
ä»£ç è¡Œæ•°ï¼š
  Python:      1,800+ è¡Œ
  HTML/CSS/JS:   700+ è¡Œ
  æ–‡æ¡£:        3,500+ è¡Œ
  é…ç½®:          150+ è¡Œ
  è„šæœ¬:          300+ è¡Œ
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  æ€»è®¡:        6,450+ è¡Œ

æ–‡ä»¶æ•°é‡ï¼š
  Python æ–‡ä»¶:   24 ä¸ª
  æ–‡æ¡£æ–‡ä»¶:      10 ä¸ª
  é…ç½®æ–‡ä»¶:       8 ä¸ª
  è„šæœ¬æ–‡ä»¶:       5 ä¸ª
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  æ€»è®¡:          47 ä¸ª
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Python 3.11+
- **Web æ¡†æ¶**: Sanic 23.12.1
- **HTTP å®¢æˆ·ç«¯**: httpx 0.27.0
- **å®šæ—¶ä»»åŠ¡**: APScheduler 3.10.4
- **æ•°æ®éªŒè¯**: Pydantic 2.6.4
- **é…ç½®ç®¡ç†**: TOML 0.10.2

## ğŸ” å®‰å…¨å»ºè®®

1. âœ… ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
2. âœ… ä½¿ç”¨ HTTPSï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
3. âœ… å®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶
4. âœ… ä¸è¦å°†é…ç½®æ–‡ä»¶æäº¤åˆ° Git
5. âœ… é™åˆ¶æ—¥å¿—æ–‡ä»¶å¤§å°

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•åªè¿è¡ŒæŸä¸ªç«™ç‚¹ï¼Ÿ
A: ä½¿ç”¨å‘½ä»¤ `python checkin.py ç«™ç‚¹ID`

### Q: å¦‚ä½•æŸ¥çœ‹æœ‰å“ªäº›ç«™ç‚¹ï¼Ÿ
A: ä½¿ç”¨å‘½ä»¤ `python checkin.py --list`

### Q: æ—¥å¿—æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ
A: åœ¨ `logs/` ç›®å½•ï¼Œæ¯ä¸ªç«™ç‚¹æ¯å¤©ä¸€ä¸ªæ–‡ä»¶

### Q: å¦‚ä½•é…ç½®å®šæ—¶ä»»åŠ¡ï¼Ÿ
A: ä½¿ç”¨ Linux Cron æˆ– Systemd Timerï¼Œè¯¦è§ CLI_GUIDE.md

### Q: å¦‚ä½•æ·»åŠ æ–°ç«™ç‚¹ï¼Ÿ
A: ç¼–è¾‘ `config/sites.toml` æˆ–ä½¿ç”¨ Web ç•Œé¢

## ğŸ“§ æ”¯æŒ

- ğŸ’¬ æŸ¥çœ‹æ–‡æ¡£ï¼š[CLI_GUIDE.md](CLI_GUIDE.md)
- ğŸ’¡ æŸ¥çœ‹æ¼”ç¤ºï¼š[DEMO.md](DEMO.md)
- â­ æŸ¥çœ‹åŠŸèƒ½ï¼š[FEATURES.md](FEATURES.md)

## ğŸ“„ è®¸å¯è¯

MIT License - å¼€æºå…è´¹ä½¿ç”¨

---

## ğŸ‰ ç«‹å³å¼€å§‹

```bash
# æ–¹å¼ 1ï¼šå¿«é€Ÿå¯åŠ¨
./quickstart.sh

# æ–¹å¼ 2ï¼šå‘½ä»¤è¡Œæ¨¡å¼
python checkin.py --list
python checkin.py

# æ–¹å¼ 3ï¼šWeb ç®¡ç†æ¨¡å¼
python run.py
# è®¿é—® http://localhost:8000
```

---

**CheckHub - è®©è‡ªåŠ¨ç­¾åˆ°å˜å¾—ç®€å•ï¼** ğŸš€

å»ºè®®é¦–å…ˆé˜…è¯»ï¼š
1. ğŸ“– [QUICKSTART.md](QUICKSTART.md) - å¿«é€Ÿä¸Šæ‰‹
2. ğŸ’» [CLI_GUIDE.md](CLI_GUIDE.md) - å‘½ä»¤è¡Œè¯¦ç»†ä½¿ç”¨
3. ğŸ“‹ [OVERVIEW.md](OVERVIEW.md) - é¡¹ç›®å®Œæ•´æ¦‚è§ˆ
